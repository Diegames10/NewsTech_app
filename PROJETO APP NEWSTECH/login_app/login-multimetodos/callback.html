<!doctype html>
<html lang="pt-BR">
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Callback</title>
<link rel="stylesheet" href="styles.css"/></head>
<body>
  <main class="container">
    <section class="card">
      <h1>Callback OAuth</h1>
      <p class="subtitle">Esta página apenas captura o parâmetro <code>?code=...</code> e exibe uma instrução.</p>
      <div id="box" class="feedback"></div>
      <a class="btn primary" href="./">Voltar</a>
    </section>
  </main>
  <script>
    const params = new URLSearchParams(window.location.search);
    const code = params.get("code");
    const box = document.getElementById("box");
    if(code){
      box.className = "feedback success";
      box.innerText = "Código recebido: " + code + "\nTroque este code por um token em seu backend.";
      box.style.display = "block";
    } else {
      box.className = "feedback error";
      box.innerText = "Nenhum 'code' foi recebido. Verifique o fluxo.";
      box.style.display = "block";
    }
  </script>
</body>
</html>
